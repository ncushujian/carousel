var e={imgLen:0,curImgIndex:1};function n(n){return(0===n?e.imgLen:n>e.imgLen?1:n)-1}var t=null;!function(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".img-box {\n  font-size: 0;\n  white-space: nowrap; \n}\n\n.img-box .carousel-img, .img-box .duplicate-img {\n  width: 100%;\n}\n\n.indicator-list {\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  left: 50%;\n  bottom: 20px;\n  transform: translateX(-50%);\n}\n\n.indicator-item {\n  display: inline-block;\n  margin: 0 3px;\n  width: 10px;\n  height: 3px;\n  background-color: rgba(255, 255, 255, .6);\n}\n\n.indicator-item.active {\n  background-color: #fde23d;\n}",{});var i=0,a=null,r=!0,c=0,s=0,m=0,l=0;function o(e){a.style.webkitTransform="translate3d("+e+"px, 0, 0)",c=e}function d(r){!function(i){t||(t=document.getElementsByClassName("indicator-item")),t[n(e.curImgIndex)].classList.remove("active"),t[n(e.curImgIndex+i)].classList.add("active")}(r),a.style.transition="0.3s ease transform",e.curImgIndex+=r,o(-e.curImgIndex*i),setTimeout((function(){u()}),300)}function u(){a.style.transition="0s ease transform",e.curImgIndex===e.imgLen+1&&(o(-i),e.curImgIndex=1),0===e.curImgIndex&&(o(-i*e.imgLen),e.curImgIndex=e.imgLen)}var g=null;function f(){clearInterval(g),g=setInterval((function(){d(1)}),3500)}function p(e){var n=document.createElement("img");return n.className="duplicate-img",n.src=e.src,n}var I={init:function(t){var I=t.getElementsByClassName("carousel-img"),h=t.getElementsByClassName("duplicate-img");a=t.getElementsByClassName("img-box")[0],i=t.clientWidth,e.imgLen=I.length,r?(r=!1,c=-i,s=-i,a.insertBefore(p(I[e.imgLen-1]),I[0]),a.appendChild(p(I[0])),function(e){e.addEventListener("touchstart",(function(e){e.preventDefault(),u(),m=e.touches[0].pageX,l=(new Date).getTime(),s=c,clearInterval(g)})),e.addEventListener("touchmove",(function(e){e.preventDefault();var n=e.touches[0].pageX-m;o(s+n)})),e.addEventListener("touchend",(function(){var e=c-s,n=e>0?-1:1;(new Date).getTime()-l<300&&Math.abs(e)>5?d(n):Math.abs(e)>=i/2?d(n):d(0),f()}))}(t)):(a.replaceChild(p(I[e.imgLen-1]),h[0]),"duplicate-img"!==a.lastElementChild.className&&a.appendChild(h[1])),e.curImgIndex>=e.imgLen+1&&(e.curImgIndex=1),a.style.webkitTransform="translate3d(-"+i*e.curImgIndex+"px, 0, 0)",function(t){for(var i="",a=t.lastElementChild,r=0;r<e.imgLen;r++)i+='<li class="indicator-item '+(r===n(e.curImgIndex)?"active":"")+'"></li>';a.innerHTML=i}(t),f()}};export default I;
